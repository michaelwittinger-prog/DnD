# Pre-commit gate: fast validation checks (~5 seconds)
# Catches schema violations, mutation bugs, invariant breaks, and fixture regressions
# Full test suite (1600+ tests) runs in CI â€” not here (too slow for commit flow)

echo "ğŸ”’ Pre-commit gate: schema + smoke + invariants + fixtures..."

npm run validate || { echo "âŒ Schema validation failed"; exit 1; }
npm run smoke || { echo "âŒ Smoke mutation test failed"; exit 1; }
npm run invariants || { echo "âŒ Invariant check failed"; exit 1; }
npm run fixtures || { echo "âŒ Fixture tests failed"; exit 1; }

echo "âœ… Pre-commit gate passed"
